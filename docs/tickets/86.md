## **ASTR-86: Next.js Dashboard Setup (P3) - Frontend**

### **Context & Current State**
Core API endpoints are complete (ASTR-84 ), providing the backend foundation for the frontend dashboard. This ticket sets up the Next.js dashboard with TypeScript, Tailwind CSS, responsive layout components, and authentication integration.

### **Technical Requirements**

**Dependencies**: ASTR-84 (Core API Endpoints) -  Complete
**Domain**: Frontend Development
**Estimated Time**: 3 days

### **Implementation Tasks**

1. **Set up Next.js Project with TypeScript**
   - Create `frontend/` directory structure
   - Initialize Next.js 14+ project with TypeScript
   - Configure TypeScript with strict mode and path aliases
   - Set up project structure:
     - `src/app/` - App Router pages and layouts
     - `src/components/` - Reusable UI components
     - `src/lib/` - Utility functions and API clients
     - `src/types/` - TypeScript type definitions
     - `src/hooks/` - Custom React hooks
   - Add ESLint and Prettier configuration
   - Set up build and development scripts

2. **Implement Tailwind CSS Styling**
   - Install and configure Tailwind CSS with Next.js
   - Create custom design system with:
     - Color palette for astronomical theme
     - Typography scale and font families
     - Spacing and sizing system
     - Component variants and states
   - Implement responsive design utilities
   - Add dark mode support
   - Create custom CSS components and animations

3. **Create Responsive Layout Components**
   - Create `src/components/layout/` components:
     - `AppLayout` - Main application layout wrapper
     - `Sidebar` - Navigation sidebar with collapsible sections
     - `Header` - Top navigation bar with user menu
     - `Footer` - Application footer with links and info
     - `Breadcrumbs` - Navigation breadcrumb component
   - Implement responsive breakpoints and mobile-first design
   - Add layout state management and persistence
   - Create loading states and error boundaries

4. **Add Authentication Integration**
   - Create `src/lib/auth/` authentication utilities:
     - `auth-client.ts` - Supabase auth client configuration
     - `auth-context.tsx` - React context for authentication state
     - `auth-guard.tsx` - Route protection component
     - `auth-hooks.ts` - Custom hooks for auth operations
   - Implement authentication pages:
     - `src/app/login/page.tsx` - Login page
     - `src/app/register/page.tsx` - Registration page
     - `src/app/profile/page.tsx` - User profile page
   - Add JWT token management and refresh logic
   - Implement role-based access control

### **Integration Points**

- **API Integration**: Connect to ASTR-84 API endpoints
- **Authentication**: Integrate with Supabase auth system
- **State Management**: Use React Context and custom hooks
- **Routing**: Implement protected routes and navigation
- **Styling**: Consistent design system across all components

### **Project Structure**
```
frontend/
├── src/
│   ├── app/
│   │   ├── (auth)/
│   │   │   ├── login/
│   │   │   └── register/
│   │   ├── dashboard/
│   │   │   ├── observations/
│   │   │   ├── detections/
│   │   │   └── settings/
│   │   ├── layout.tsx
│   │   └── page.tsx
│   ├── components/
│   │   ├── ui/
│   │   ├── layout/
│   │   ├── forms/
│   │   └── charts/
│   ├── lib/
│   │   ├── api/
│   │   ├── auth/
│   │   └── utils/
│   ├── types/
│   └── hooks/
├── public/
├── tailwind.config.js
├── tsconfig.json
└── package.json
```

### **API Client Configuration**
```typescript
interface APIClient {
  baseURL: string;
  timeout: number;
  retries: number;
  headers: Record<string, string>;
}

interface AuthConfig {
  supabaseUrl: string;
  supabaseKey: string;
  redirectTo: string;
  cookieName: string;
}
```

### **Component Library**
```typescript
// UI Components
interface UIComponents {
  Button: React.ComponentType<ButtonProps>;
  Input: React.ComponentType<InputProps>;
  Modal: React.ComponentType<ModalProps>;
  Table: React.ComponentType<TableProps>;
  Chart: React.ComponentType<ChartProps>;
  Card: React.ComponentType<CardProps>;
  Badge: React.ComponentType<BadgeProps>;
  Spinner: React.ComponentType<SpinnerProps>;
}
```

### **API Endpoints Integration**
```typescript
// API Integration
interface APIServices {
  observations: ObservationService;
  detections: DetectionService;
  surveys: SurveyService;
  users: UserService;
  workflows: WorkflowService;
}
```

### **Error Handling**
- API error handling and user feedback
- Authentication error recovery
- Network timeout and retry logic
- Form validation and error display
- Global error boundary implementation

### **Testing Strategy**
- Unit tests for utility functions and hooks
- Component testing with React Testing Library
- Integration tests for API client
- Authentication flow testing
- Responsive design testing

### **Performance Considerations**
- Code splitting and lazy loading
- Image optimization and caching
- Bundle size optimization
- Client-side caching strategies
- Progressive Web App features
